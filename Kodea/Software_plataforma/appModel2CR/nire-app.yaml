apiVersion: ehu.gcis.org/v1alpha1
kind: Application
metadata:
  name: nire-app
spec:
  components: 
    - name: creating-numbers
      service: NaturalValue
      image: ekhurtado/gcis:zenbakien-sorkuntza
      customization: '{"CUSTOM_TYPE": "random", "CUSTOM_FIRSTVALUE": 16}'
      outPort:
        name: naturalvalue-oport
        dataType: TNumber
        protocol: HTTP
    - name: processing-numbers
      service: BalioaHanditu
      image: ekhurtado/gcis:zenbakien-prozesamendua
      customization: '{"CUSTOM_STEP": 2}'
      inPort:
        name: increasevalue-iport
        dataType: TNumber
        protocol: HTTP
        number: '6000'
      outPort:
        name: increasevalue-oport
        dataType: TNumber
        protocol: HTTP
    - name: show-numbers
      service: consoleDisplay
      image: ekhurtado/gcis:zenbakien-aurkezpena
      inPort:
        name: consoledisplay-iport
        dataType: TNumber
        protocol: HTTP
        number: '7000'
  channels: 
    - from: naturalvalue-oport
      to: increasevalue-iport
    - from: increasevalue-oport
      to: consoledisplay-iport