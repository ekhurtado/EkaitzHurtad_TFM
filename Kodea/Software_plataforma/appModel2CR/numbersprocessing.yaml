apiVersion: ehu.gcis.org/v1alpha1
kind: Application
metadata:
  name: numbersprocessing
spec:
  components: 
    - name: creatingnumbers
      service: NaturalValue
      image: gcr.io/gcis/processing-numbers:latest
      customization: '{"type": "random"}'
      outPort:
        name: creatingnumbersoport
        dataType: TNumber
        protocol: HTTP
    - name: processingnumbers
      service: IncreaseValue
      image: gcr.io/gcis/processing-numbers:latest
      customization: '{"step": 2}'
      inPort:
        name: processingnumbersiport
        dataType: TNumber
        protocol: HTTP
        number: '6000'
      outPort:
        name: processingnumbersoport
        dataType: TNumber
        protocol: HTTP
    - name: shownumbers
      service: ConsoleDisplay
      image: gcr.io/gcis/processing-numbers:latest
      inPort:
        name: shownumbersiport
        dataType: TNumber
        protocol: HTTP
        number: '7000'
  channels: 
    - from: creatingnumbersoport
      to: processingnumbersiport
    - from: processingnumbersoport
      to: shownumbersiport